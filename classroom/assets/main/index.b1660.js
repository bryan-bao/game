System.register("chunks:///main.js",["cc"],(function(){"use strict";var t,e,n,i,r,o,a,s,c,u,l,h,f,p,d,v,g,m,y,b,S,_,w,C,T,E,R,I,P,D,O,F,L,M;return{setters:[function(A){t=A.cclegacy,e=A._decorator,n=A.sys,i=A.log,r=A.resources,o=A.error,a=A.Prefab,s=A.instantiate,c=A.find,u=A.SpriteFrame,l=A.isValid,h=A.assetManager,f=A.Texture2D,p=A.assert,d=A.AudioClip,v=A.warn,g=A.clamp01,m=A.Component,y=A.Sprite,b=A.UITransform,S=A.Node,_=A.Label,w=A.AudioSource,C=A.Animation,T=A.Vec3,E=A.ProgressBar,R=A.Tween,I=A.ScrollView,P=A.View,D=A.Widget,O=A.VideoPlayer,F=A.Layout,L=A.game,M=A.NodePool}],execute:function(){function A(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
A=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function c(t,e,n,i){var r=e&&e.prototype instanceof h?e:h,o=Object.create(r.prototype),a=new C(i||[]);return o._invoke=function(t,e,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return E()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var c=u(t,e,n);if("normal"===c.type){if(i=n.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function h(){}function f(){}function p(){}var d={};s(d,r,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(T([])));g&&g!==e&&n.call(g,r)&&(d=g);var m=p.prototype=h.prototype=Object.create(d);function y(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function i(r,o,a,s){var c=u(t[r],t,o);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==typeof h&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return i("throw",t,a,s)}))}s(c.arg)}var r;this._invoke=function(t,n){function o(){return new e((function(e,r){i(t,n,e,r)}))}return r=r?r.then(o,o):o()}}function S(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var i=u(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,l;var r=i.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function T(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return f.prototype=p,s(m,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},y(b.prototype),s(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var a=new b(c(e,n,i,r),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(m),s(m,a,"Generator"),s(m,r,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(n,i){return a.type="throw",a.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;w(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:T(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function N(t,e,n,i,r,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(i,r)}function x(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function k(t,e,n){return e&&x(t.prototype,e),n&&x(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function U(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,j(t,e)}function j(t,e){return(j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function G(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z(t,e,n,i){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function H(t,e,n,i,r){var o={};return Object.keys(i).forEach((function(t){o[t]=i[t]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(t,e,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}var q,B;t._RF.push({},"05c37maoztIcqYQxP8Afj1j","configuration",void 0);var V,Y=(0,e.ccclass)("configuration")(((B=function(){function t(){this.jsonData=null,this.path=null,this.KEY_CONFIG="CarConfig",this.markSave=!1,this.saveTimer=-1}var e=t.prototype;return e.start=function(){var t,e=this;(this.jsonData={userId:""},this.path=this.getConfigPath(),n.isNative)?t=jsb.fileUtils.getValueMapFromFile(this.path)[this.KEY_CONFIG]:t=n.localStorage.getItem(this.KEY_CONFIG);if(t&&t.length){t.startsWith("@")&&(t=t.substring(1));try{var i=JSON.parse(t);this.jsonData=i}catch(t){}}this.saveTimer=setInterval((function(){e.scheduleSave()}),500)},e.setConfigDataWithoutSave=function(t,e){var n=this.jsonData.userId;this.jsonData[n]?this.jsonData[n][t]=e:console.error("no account can not save")},e.setConfigData=function(t,e){this.setConfigDataWithoutSave(t,e),this.markSave=!0},e.getConfigData=function(t){var e=this.jsonData.userId;if(this.jsonData[e]){var n=this.jsonData[e][t];return n||""}return i("no account can not load"),""},e.setGlobalData=function(t,e){this.jsonData[t]=e,this.save()},e.getGlobalData=function(t){return this.jsonData[t]},e.setUserId=function(t){this.jsonData.userId=t,this.jsonData[t]||(this.jsonData[t]={}),this.save()},e.getUserId=function(){return this.jsonData.userId},e.scheduleSave=function(){this.markSave&&this.save()},e.markModified=function(){this.markSave=!0},e.save=function(){var t=JSON.stringify(this.jsonData);if(this.markSave=!1,n.isNative){var e={};e[this.KEY_CONFIG]=t,jsb.fileUtils.writeToFile(e,this.path)}else{n.localStorage.setItem(this.KEY_CONFIG,t)}},e.getConfigPath=function(){var t=n.platform,e="";return t===n.OS_WINDOWS?e="src/conf":t===n.OS_LINUX?e="./conf":n.isNative?(e=jsb.fileUtils.getWritablePath(),e+="conf"):e="src/conf",e},e.parseUrl=function(t){if(t&&!("string"==typeof t&&t.length<=0)){var e={};if("string"==typeof t)(t=t.split("?")[1]).split("&").forEach((function(t){var n=t.indexOf("=");if(-1!==n){var i=t.substring(0,n);e[i]=t.substring(n+1)}}));else e=t;e.action&&this.setGlobalData("urlParams",e),e.source&&this.setGlobalData("source",e.source),e.adchannelid&&this.setGlobalData("adchannelid",e.adchannelid)}},t.generateGuestAccount=function(){return""+Date.now()+10},k(t,null,[{key:"instance",get:function(){return this._instance||(this._instance=new t,this._instance.start()),this._instance}}]),t}())._instance=void 0,q=B))||q;t._RF.pop(),t._RF.push({},"aebeeEGJRZGbK315QTzsoll","resourceUtil",void 0);var K=(0,e.ccclass)("resourceUtil")(V=function(){function t(){}return t.loadRes=function(t,e,n){var i=r.get(t,e);i&&n?n(null,i):e?r.load(t,e,(function(t,e){if(t)return o(t.message||t),void(n&&n(t,e));n&&n(t,e)})):r.load(t,(function(t,e){if(t)return o(t.message||t),void(n&&n(t,e));n&&n(t,e)}))},t.preload=function(t,e){r.preload("prefab/"+t,e)},t.getMap=function(t,e){var n="map";n+=t>=100?t:t>=10?"0"+t:"00"+t,this.loadRes("map/config/"+n,null,(function(t,n){if(t)e(t,n);else{var i=n,r="";if(i._file){window.LZString&&(r=window.LZString.decompressFromEncodedURIComponent(i._file));var o=JSON.parse(r);e(null,o)}else if(i.text){window.LZString&&(r=window.LZString.decompressFromEncodedURIComponent(i.text));var a=JSON.parse(r);e(null,a)}else if(i.json)e(null,i.json);else{var s=new Error("failed");e(s,null)}}}))},t.getMapObjs=function(t,e,n,i){for(var o=[],s=0;s<e.length;s++)o.push("map/"+t+"/"+e[s]);r.load(o,a,n,i)},t.getUIPrefabRes=function(t,e){this.loadRes("prefab/"+t,a,e)},t.createUI=function(t,e,n){this.getUIPrefabRes(t,(function(t,i){if(t)console.error("界面加载失败");else{var r=s(i);r.setPosition(0,0,0),n||(n=c("Canvas/GamePanel")),n.getChildByName(r.name)||n.addChild(r),e&&e(null,r)}}))},t.getCarsBatch=function(t,e,n){for(var i=[],o=0;o<t.length;o++)i.push("prefab/car/car"+t[o]);for(var s=0;s<i.length;s++){var c=i[s];e?r.load(c,a,e,n):r.load(c,a,n)}},t.getUICar=function(t,e){this.loadRes("prefab/ui/car/uiCar"+t,a,e)},t.getCar=function(t,e){this.loadRes("prefab/car/car"+t,a,e)},t.setCarIcon=function(t,e,n){var i="texture/"+t;this.setSpriteFrame(i,e,n)},t.getJsonData=function(t,e){r.load("datas/"+t,(function(t,n){if(t)o(t.message||t);else{var i=n;if(i.json)e(t,i.json);else{var r=new Error("failed!!!");e(r,null)}}}))},t.getData=function(t,e){r.load("config/"+t,(function(t,n){if(t)o(t.message||t);else{var i=n.text;i?e(t,i):r.load(n.nativeUrl,(function(t,n){e(t,i=n)}))}}))},t.setSpriteFrame=function(t,e,n){this.loadRes(t+"/spriteFrame",u,(function(i,r){if(i)return console.error("set sprite frame failed! err:",t,i),void(n&&n(i,r));e&&l(e)&&(e.spriteFrame=r,n&&n(null,r))}))},t.setRemoteImage=function(t,e,n){if(t&&t.startsWith("http")){h.loadAny([{url:t,type:"png"}],null,(function(e,i){if(e)return console.error("set avatar failed! err:",t,e),void n(e,i);var r=new f;r.image=i;var o=new u;o.texture=r,n&&n(null,o)}))}},t.setGameIcon=function(t,e,n){t.startsWith("http")?this.setRemoteImage(t,e,n):this.setSpriteFrame("gamePackage/textures/icons/games/"+t,e,n)},t.loadRemote=function(t,e){h.loadRemote(t,(function(n,i){n?console.error("set avatar failed! err:",t,n):e(n,i)}))},t.getCustomer=function(t,e){this.loadRes("gamePackage/map/customer/customer"+t,a,e)},t.setCustomerIcon=function(t,e,n){var i="gamePackage/texture/head/head"+t;this.setSpriteFrame(i,e,n)},t.getEffect=function(t,e){this.loadRes("prefab/effect/"+t,a,e)},t}())||V;t._RF.pop(),t._RF.push({},"e478cuMHJdIHa5fP3m5UZ7S","audioManager",void 0);var W,Q=function(){function t(){this.soundVolume=1}var e=t.prototype;return e.init=function(e){this.soundVolume=this.getConfiguration(!1)?1:0,t._audioSource=e},e.getConfiguration=function(t){var e;return void 0===(e=t?Y.instance.getGlobalData("music"):Y.instance.getGlobalData("sound"))||"true"===e},e.playMusic=function(e){var n=t._audioSource;p(n,"AudioManager not inited!"),n.loop=e,!n.playing&&e?n.play():n.pause()},e.playSound=function(e,n,i){var r;void 0===i&&(i=!1),r=n||t._audioSource;K.loadRes("audio/sound/"+e,d,(function(t,e){t?v("load audioClip failed: ",t):(r.clip=e,r.loop=i,r.play())}))},e.playOneShot=function(e,n,i){var r,o=this;void 0===i&&(i=!1),r=n||t._audioSource;var a="audio/sound/";i&&(a="audio/music/",r.loop=i),K.loadRes(a+e,d,(function(t,e){t?v("load audioClip failed: ",t):r.playOneShot(e,r.volume?o.soundVolume/r.volume:0)}))},e.setMusicVolume=function(e,n){var i=n||t._audioSource;p(i,"AudioManager not inited!"),e=g(e),i.volume=e},e.setSoundVolume=function(t){this.soundVolume=t},e.openMusic=function(){this.setMusicVolume(.8),Y.instance.setGlobalData("music","true")},e.closeMusic=function(){this.setMusicVolume(0),Y.instance.setGlobalData("music","false")},e.openSound=function(){this.setSoundVolume(1),Y.instance.setGlobalData("sound","true")},e.closeSound=function(){this.setSoundVolume(0),Y.instance.setGlobalData("sound","false")},k(t,null,[{key:"instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}();Q._instance=void 0,Q._audioSource=void 0,t._RF.pop(),t._RF.push({},"740d26+WxhIWqfFv0nSwUuT","CsvManager",void 0);var J,Z,X=e.ccclass,$=[",",";","\t","|","^"],tt=["\r\n","\r","\n"],et=function(t,e,n,i){return n instanceof Array?"number"===n[e]?Number(i[e]):"boolean"===n[e]?"true"===i[e]||"t"===i[e]||"1"===i[e]:i[e]:isNaN(Number(t))?"false"==t||"true"==t||"t"==t||"f"==t?"true"===i[e]||"t"===i[e]||"1"===i[e]:i[e]:Number(i[e])},nt={STANDARD_DECODE_OPTS:{skip:0,limit:!1,header:!1,cast:!1,comment:""},STANDARD_ENCODE_OPTS:{delimiter:$[0],newline:tt[0],skip:0,limit:!1,header:!1},quoteMark:'"',doubleQuoteMark:'""',quoteRegex:/"/g,opts:{},assign:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Array.prototype.slice.call(arguments);for(var i=e[0],r=e.slice(1),o=0,a=r.length;o<a;o++)for(var s in r[o])i[s]=r[o][s];return i},map:function(t,e){for(var n=[],i=0,r=t.length;i<r;i++)n[i]=e(t[i],i);return n},getType:function(t){return Object.prototype.toString.call(t).slice(8,-1)},getLimit:function(t,e){return!1===t?e:1},buildObjectConstructor:function(t,e,n){return function(i){var r={},o=function(t,e){return r[t]=e};return n?t.forEach((function(t,r){o(t,et(e[r],r,n,i))})):t.forEach((function(t,n){o(t,et(e[n],n,null,i))})),r}},buildArrayConstructor:function(t,e,n){return function(i){var r=new Array(e.length),o=function(t,e){return r[t]=e};return n?t.forEach((function(t,r){o(t,et(e[r],r,n,i))})):t.forEach((function(t,n){o(t,et(e[n],n,null,i))})),r}},frequency:function(t,e,n){void 0===n&&(n=!1);for(var i=0,r=0,o=this.getLimit(n,t.length);r<o&&-1!==(r=t.indexOf(e,r));)r+=1,i++;return i},mostFrequent:function(t,e,n){for(var i="",r=e.length-1;r>=0;r--)this.frequency(t,e[r],n)>0&&(i=e[r]);return i||e[0]},unsafeParse:function(t,e,n){var i,r,o=t.split(e.newline);function a(t){var n=t.shift();if(n.indexOf('"')>=0){for(var i=0,r=0,o=0;t.length>0&&(-1!==(i=n.indexOf('"',r))||o%2!=0);)-1!==i?(r=i+1,o++):n=n+e.newline+t.shift();var a,s=[],c=0,u=0,l=0,h=n.length;for(var f in n)if(n.hasOwnProperty(f)){var p=parseInt(f),d=n[f];0===p&&'"'===d&&(c++,u=1),'"'===d&&(c++,n[p-1]===e.delimiter&&u===p&&u++),'"'===d&&c%2==0&&(n[p+1]!==e.delimiter&&p+1!==h||(l=p,a=n.substring(u,l),s.push(a),l=u=l+2)),d===e.delimiter&&c%2==0&&((l=p)>u?(a=n.substring(u,l),s.push(a),l=u=l+1):l===u&&(s.push(""),l=u=l+1))}return(l=h)>=u&&(a=n.substring(u,l),s.push(a)),s}return n.split(e.delimiter)}for(e.skip>0&&o.splice(e.skip),e.header?(!0===e.header?(e.comment=a(o),e.cast=a(o),i=a(o)):"Array"===this.getType(e.header)&&(i=e.header),r=this.buildObjectConstructor(i,o[0].split(e.delimiter),e.cast)):r=this.buildArrayConstructor(i,o[0].split(e.delimiter),e.cast);o.length>0;){var s=a(o);s.length>1&&n(r(s),i[0])}return!0},safeParse:function(t,e){var n=e.newline,i=t.split(n);return e.skip>0&&i.splice(e.skip),!0},encodeCells:function(t,e,n){for(var i=t.slice(0),r=0,o=i.length;r<o;r++)-1!==i[r].indexOf(this.quoteMark)&&(i[r]=i[r].replace(this.quoteRegex,this.doubleQuoteMark)),-1===i[r].indexOf(e)&&-1===i[r].indexOf(n)||(i[r]=this.quoteMark+i[r]+this.quoteMark);return i.join(e)},encodeArrays:function(t,e,n){var i=e.delimiter,r=e.newline;e.header&&"Array"===this.getType(e.header)&&n(this.encodeCells(e.header,i,r));for(var o=0,a=this.getLimit(e.limit,t.length);o<a;o++)n(this.encodeCells(t[o],i,r));return!0},encodeObjects:function(t,e,n){var i=e.delimiter,r=e.newline,o=[],a=[];for(var s in t[0])o.push(s),a.push(t[0][s]);!0===e.header?n(this.encodeCells(o,i,r)):"Array"===this.getType(e.header)&&n(this.encodeCells(e.header,i,r)),n(this.encodeCells(a,i,"\n"));for(var c=1,u=this.getLimit(e.limit,t.length);c<u;c++){a=[];for(var l=0,h=o.length;l<h;l++)a.push(t[c][o[l]]);n(this.encodeCells(a,i,r))}return!0},parse:function(t,e,n){var i=[];if("Function"===this.getType(e)?(n=e,e={}):"Function"!==this.getType(n)&&(n=i.push.bind(i)),e=this.assign({},this.STANDARD_DECODE_OPTS,e),this.opts=e,!e.delimiter||!e.newline){var r=Math.min(48,Math.floor(t.length/20),t.length);e.delimiter=e.delimiter||this.mostFrequent(t,$,0!==r),e.newline=e.newline||this.mostFrequent(t,tt,0!==r)}return this.unsafeParse(t,e,n)&&(!(i.length>0)||i)},encode:function(t,e,n){var i=[];return"Function"===this.getType(e)?n=e:"Function"!==this.getType(n)&&(n=(i=[]).push.bind(i)),(e=this.assign({},this.STANDARD_ENCODE_OPTS,e)).skip>0&&(t=t.slice(e.skip)),("Array"===this.getType(t[0])?this.encodeArrays:this.encodeObjects)(t,e,n)&&(!(i.length>0)||i.join(e.newline))}},it=X("CsvManager")(W=function(){function t(){this.csvTables={},this.csvTableForArr={},this.tableCast={},this.tableComment={}}var e=t.prototype;return e.addTable=function(t,e,n){if(!this.csvTables[t]||n){var i={},r=[];nt.parse(e,{header:!0},(function(t,e){i[t[e]]=t,r.push(t)})),this.tableCast[t]=nt.opts.cast,this.tableComment[t]=nt.opts.comment,this.csvTables[t]=i,this.csvTableForArr[t]=r}},e.getTableArr=function(t){return this.csvTableForArr[t]},e.getTable=function(t){return this.csvTables[t]},e.queryOne=function(t,e,n){var i=this.getTable(t);if(!i)return null;if(!e)return i[n];for(var r in i)if(i.hasOwnProperty(r)&&i[r][e]===n)return i[r]},e.queryByID=function(t,e){return this.queryOne(t,null,e)},e.queryAll=function(t,e,n){var i=this.getTable(t);if(!i||!e)return null;var r={};for(var o in i)i.hasOwnProperty(o)&&i[o][e]===n&&(r[o]=i[o]);return r},e.queryIn=function(t,e,n){var i=this.getTable(t);if(!i||!e)return null;for(var r={},o=Object.keys(i),a=o.length,s=0;s<a;s++){var c=i[o[s]];n.indexOf(c[e])>-1&&(r[o[s]]=c)}return r},e.queryByCondition=function(t,e){if(e.constructor!==Object)return null;var n=this.getTable(t);if(!n)return null;for(var i={},r=Object.keys(n),o=r.length,a=Object.keys(e),s=a.length,c=0;c<o;c++){for(var u=n[r[c]],l=!0,h=0;h<s;h++){var f=a[h];l=l&&e[f].indexOf(u[f])>-1&&!i[r[c]]}l&&(i[r[c]]=u)}return i},t}())||W;t._RF.pop(),t._RF.push({},"acd0cVlaIhLurmAIUS/N+2B","localConfig",void 0);var rt=e.ccclass,ot=(e.property,rt("localConfig")(((Z=function(){function t(){this.csvManager=null,this._callback=null,this._skills={},this.currentLoad=0,this.cntLoad=0,this.servers=[]}var e=t.prototype;return e.loadConfig=function(t){this._callback=t,this.csvManager=new it,this.loadCSV()},e.loadCSV=function(){var t=this,e=["game","gameType","sceneInteract","choiceQuestion"];this.cntLoad=e.length,e.forEach((function(e,n,i){K.getData(e,(function(n,i){t.csvManager.addTable(e,i),t.tryToCallbackOnFinished()}))}))},e.queryOne=function(t,e,n){return this.csvManager.queryOne(t,e,n)},e.queryByID=function(t,e){return this.csvManager.queryByID(t,e)},e.getTable=function(t){return this.csvManager.getTable(t)},e.getTableArr=function(t){return this.csvManager.getTableArr(t)},e.getTypeCfgs=function(e,n){var i=t.instance.getTableArr(e),r=[];if(!i)return r;for(var o=i.length,a=0;a<o;a++){var s=i[a];s.type==n&&r.push(s)}return r},e.getCurPorCfgs=function(e,n,i){var r=t.instance.getIdCfgs(e,n),o=[];if(!r)return o;for(var a=r.length,s=0;s<a;s++){var c=r[s];c.progress==i&&o.push(c)}return o},e.getCurPorCfg=function(e,n,i){for(var r=t.instance.getTypeCfgs(e,n),o=r.length,a=null,s=0;s<o;s++){var c=r[s];c.progress==i&&(a=c)}return a},e.getIdCfgs=function(e,n){var i=t.instance.getTableArr(e),r=[];if(!i)return r;for(var o=i.length,a=0;a<o;a++){var s=i[a];(s.id||s.ID)==n&&r.push(s)}return r},e.getCfg=function(e,n){var i=t.instance.getTableArr(e);if(!i)return null;for(var r=i.length,o=0;o<r;o++){var a=i[o];if((a.id||a.ID)==n)return a}return null},e.queryAll=function(t,e,n){return this.csvManager.queryAll(t,e,n)},e.queryIn=function(t,e,n){return this.csvManager.queryIn(t,e,n)},e.queryByCondition=function(t,e){return this.csvManager.queryByCondition(t,e)},e.tryToCallbackOnFinished=function(){this._callback&&(this.currentLoad++,this.currentLoad>=this.cntLoad&&this._callback())},e.getCurrentServer=function(){return this.servers[0]},e.getVersion=function(){var t=this.getCurrentServer();return t?t.version:"unknown"},k(t,null,[{key:"instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}())._instance=void 0,J=Z))||J);t._RF.pop(),t._RF.push({},"522069n/4VAEKex7zYYYpUd","Path",void 0);e.ccclass,e.property;var at=function(){};at.Loading="loading/",at.Icon="icon/",at.svnResVideo="http://ftdycode.hytch.com/hqsjdoc/pakages/remote/video/",at.resVideo="https://hqsjapp-1251510006.cos.ap-shanghai.myqcloud.com/game/classroom/video/",at.serverUrl="http://10.99.29.213:7089",at.uatServerUrl="https://hqsjtest-api.fangte.com/uat",at.formalServerUrl="https://hqsj.fangte.com",at.sitServerUrl="https://hqsjtest-api.fangte.com/sit",at.takeNotes="/api/gameLog/takeNotes",at.doIt="/api/task/game/doIt",at.getByGameId="/api/gameLog/getByGameId",t._RF.pop(),t._RF.push({},"280efuXoo9EGIAvdS1njCrX","TimerManager",void 0);var st,ct,ut=function(){function t(){}var e=t.prototype;return e.setTimeout=function(t){function e(e,n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t,e){for(var n=t,i=e,r=arguments.length,o=new Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];var s=o;return setTimeout.apply(void 0,[n,i].concat(s))})),e.clearTimeout=function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){clearTimeout(t)})),e.setInterval=function(t){function e(e,n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t,e){for(var n=t,i=e,r=arguments.length,o=new Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];var s=o;return setInterval.apply(void 0,[n,i].concat(s))})),e.clearInterval=function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){clearInterval(t)})),e.wait=function(){var t,e=(t=A().mark((function t(e){return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){setTimeout(t,e)})));case 1:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(i,r){var o=t.apply(e,n);function a(t){N(o,i,r,a,s,"next",t)}function s(t){N(o,i,r,a,s,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}(),k(t,null,[{key:"instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}();ut._instance=void 0,t._RF.pop(),t._RF.push({},"a5569EJ5VZHtrmj9p3snRN+","gameData",void 0);var lt,ht,ft=e.ccclass,pt=(e.property,ft("gameData")(((ct=function(){function t(){this.httpDataMap=new Map,this.gameLevelMap=new Map,this.httpData=void 0,this.gameID=void 0,this.isReceive=!1,this.curTypePro=0,this.level=0,this.types=3,this.isTips=!1,this.ruleId=void 0,this.platform=void 0}var e=t.prototype;return e.updateReceive=function(){var t=this.getGameIdLevel(this.gameID);this.isReceive=t.length==this.types,this.isTips=this.isReceive},e.getGameIdParam=function(){var t=ot.instance.getTableArr("game");if(t){for(var e=t.length,n="?",i=0,r=0;r<e;r++){var o=t[r];n+="&"+(++i==e?"ids="+o.id:"ids="+o.id+",")}return n}},e.urlSearch=function(){var t=window.location.href;console.log("链接参数："+t);var e,n,i=t.indexOf("?"),r=t.substr(i+1).split("&");this.httpData=[];for(var o=0;o<r.length;o++)(i=r[o].indexOf("="))>0&&(e=r[o].substring(0,i),n=r[o].substr(i+1),"ruleId"==e?this.ruleId=n:("platform"==e&&(this.platform=n),this.httpData.push({name:e,value:n})))},e.getValue=function(t){return this.httpDataMap.get(t)},e.setData=function(t){if(t||t.result)for(var e=t.result.length,n=0;n<e;n++)for(var i=t.result[n],r=i.level.split(","),o=0;o<r.length;o++){var a=r[o];this.setGameIdLevel(i.gameId,Number(a))}},e.setGameIdLevel=function(t,e){var n=this.gameLevelMap.get(t)||[];n.push(e),this.gameLevelMap.set(t,n)},e.getGameIdLevel=function(t){return this.gameLevelMap.get(t)||[]},k(t,[{key:"isAchieve",get:function(){return this.getGameIdLevel(this.gameID).length==this.types}}],[{key:"instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}())._instance=void 0,st=ct))||st);t._RF.pop(),t._RF.push({},"0b9f4FewcRHor00/r6P86Ha","ServiceManager",void 0);var dt=e.ccclass,vt=(e.property,dt("ServiceManager")(((ht=function(){function t(){}var e=t.prototype;return e.post=function(t,e,n){var i=new XMLHttpRequest,r=at.formalServerUrl+t,o=e,a="?";for(var s in o){var c=s+"="+o[s];a+=""==a?c:"&"+c}i.open("POST",r+a),i.timeout=5e3;var u=pt.instance.httpData;if(u){for(var l=u.length,h=0;h<l;h++){var f=u[h];i.setRequestHeader(f.name,f.value)}i.onreadystatechange=function(){if(console.log("状态status: "+i.status),4===i.readyState&&200==i.status){var t=i.responseText;console.log("响应参数"),console.log(t),n&&n(JSON.parse(t))}},i.send()}else console.warn("链接端数据未发送")},e.get=function(t,e,n){var i=new XMLHttpRequest,r=at.formalServerUrl+t;i.open("GET",r+e),i.timeout=5e3;var o=pt.instance.httpData;if(o){for(var a=o.length,s=0;s<a;s++){var c=o[s];i.setRequestHeader(c.name,c.value)}i.onreadystatechange=function(){if(console.log("状态status: "+i.status),4===i.readyState&&200==i.status){var t=i.responseText;console.log("响应参数"),console.log(t),n&&n(JSON.parse(t))}},i.send()}else console.warn("链接端数据未发送")},e.sendAwardReceive=function(){var e=pt.instance.ruleId,n=pt.instance.gameID;!pt.instance.isReceive&&pt.instance.isAchieve&&t.instance.post(at.doIt,{ruleId:e,gameId:n},(function(t){console.log("code: "+t.code+"success: "+t.success),t.success&&200==t.code&&(console.log("奖励已发放: "+t),pt.instance.isReceive=!0)}))},k(t,null,[{key:"instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}())._instance=void 0,lt=ht))||lt);t._RF.pop(),t._RF.push({},"60533HLjDVKM4hKMIfh75fg","PanelBase",void 0);var gt,mt,yt=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).moduleEum=void 0,e.panelLayer=void 0,e}U(e,t);var n=e.prototype;return n.start=function(){},n.show=function(t){},n.hide=function(){},n.dispose=function(){},e}(m);t._RF.pop(),t._RF.push({},"5df7c/B/SpAO5q621xAbDrw","UIManger",void 0);var bt=e.ccclass,St=(e.property,bt("UIManger")(((mt=function(){function t(){this.m_UIPanelDic=new Map,this.m_UIPanel=new Map}var e=t.prototype;return e.getPanel=function(){return this.m_UIPanel},e.registerPanel=function(t,e,n){void 0===n&&(n=!1),this.m_UIPanel.set(t,{clsPanel:e,isRelease:n})},e.showPanel=function(t,e,n){var i=this,r=this.m_UIPanel.get(t),o=r.clsPanel,a=r.isRelease;if(!o)return console.error("没有注册的界面");var s=this.m_UIPanelDic.get(t),c=t.lastIndexOf("/"),u=t.slice(c+1);if(s){if(!s.node||!s.view)return void console.error("找不到对应的Panel类");var l=s.node.getComponent(u);s.node.setSiblingIndex(-1),l.show(e)}else K.createUI(t,(function(r,s){var c=s.getComponent(u);c.show&&c.show(e),c.moduleEum=t,s.setSiblingIndex(-1),n&&n(c),i.m_UIPanelDic.set(t,new _t(s,o,a))}))},e.hidePanel=function(t){var e=this.m_UIPanelDic.get(t);if(e){var n=e.node,i=n.getComponent(e.view);i.hide(),e.isRelease?n.active=!1:(n.isValid&&(i.dispose(),n.destroy()),this.m_UIPanelDic.delete(t))}},e.destroyAllPanel=function(){for(var t,e=this.m_UIPanelDic.values();!(t=e.next()).done&&t.value.node.isValid;){t.value.node.getComponent(t.value.view).dispose(),t.value.node.isValid&&t.value.node.destroy()}this.m_UIPanelDic.clear()},e.findPanel=function(t){var e=this.m_UIPanelDic.get(t);if(e)return e.node.getComponent(e.view)},e.findNode=function(t){var e=this.m_UIPanelDic.get(t);if(e)return e.node},k(t,null,[{key:"instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}())._instance=void 0,gt=mt))||gt),_t=function(t,e,n){this.node=void 0,this.view=void 0,this.isRelease=void 0,this.node=t,this.view=e,this.isRelease=n};t._RF.pop(),t._RF.push({},"0fc99z5iRJB7Z+B0jbAOes4","UIModuleEnum",void 0);var wt="main/SelectGamePanel",Ct="main/SelectGameItem",Tt="main/SelectProgressPanel",Et="main/LoadingPanel",Rt="choiceQuestion/ChoiceQuestion",It="choiceQuestion/ChoiceQuestionItem",Pt="sceneInteract/SceneInteract",Dt="sceneInteract/SceneInteractItem",Ot="main/VideoPanel",Ft="main/CompleteTips",Lt="main/Cesi";t._RF.pop(),t._RF.push({},"9b545vJCU1OAYCCOW97yh7F","Constant",void 0);var Mt,At,Nt,xt,kt,Ut,jt,Gt=function(){};Gt.AUDIO_SOUND={LOOP:"Loop",CORRECT:"correct",ERRORR:"error",SELECTEFFECT:"selectEffect",SELECTMENU:"selectMenu",SUCCESSEFFECT:"successEffect",SUCCESSMUSIC:"successMusic"},Gt.PLAYANIM={NORMAL:"normal",CORRECT:"correct",ERRORR:"error"},t._RF.pop(),t._RF.push({},"b0cfbfZ8otCuoGXN4KgMHuu","ChoiceQuestionItem",void 0);var zt,Ht,qt,Bt,Vt,Yt,Kt,Wt,Qt,Jt,Zt,Xt=e.ccclass,$t=e.property,te=(Mt=Xt("ChoiceQuestionItem"),At=$t(y),Nt=$t(y),Mt((Ut=H((kt=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return z(e=t.call.apply(t,[this].concat(i))||this,"check",Ut,G(e)),z(e,"bg",jt,G(e)),e.data=void 0,e}U(e,t);var n=e.prototype;return n.onLoad=function(){},n.loadData=function(t,e){var n=this;this.data=t,K.setCarIcon("choiceQuestion/"+t.icon,this.bg,(function(){n.bg.getComponent(b).setContentSize(e,e)})),this.check.node.active=!1},n.setCheck=function(){this.check.node.active=!0},n.getIsCheck=function(){return!this.check.node.active},n.dispose=function(){this.data=null},e}(m)).prototype,"check",[At],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),jt=H(kt.prototype,"bg",[Nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xt=kt))||xt);t._RF.pop(),t._RF.push({},"1b68bQuQF9Ip6TTdu9aOIGf","ChoiceQuestion",void 0);var ee=e.ccclass,ne=e.property,ie=(zt=ee("ChoiceQuestion"),Ht=ne(S),qt=ne(_),Bt=ne(y),Vt=ne(w),zt((Wt=H((Kt=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return z(e=t.call.apply(t,[this].concat(i))||this,"itemNode",Wt,G(e)),z(e,"desLab",Qt,G(e)),z(e,"model",Jt,G(e)),e.progress=1,e.selectNum=0,e.isFinal=!1,e.isJump=!1,e.anim=null,z(e,"_audioSource",Zt,G(e)),e}U(e,t);var n=e.prototype;return n.onLoad=function(){this.anim=this.model.node.getComponent(C),this._audioSource=this.getComponent(w)},n.show=function(t){this.updatePanel()},n.updatePanel=function(){var t=this;if(this.isValid){var e=pt.instance.gameID,n=ot.instance.getCurPorCfgs("choiceQuestion",e,this.progress);if(n){this.selectNum=0;var i=n.length,r=i>2?130:200,o=n[0];o&&(this.desLab.string=o.des,this.isFinal=o.isFinal,this.playAnim(o.anim),K.getUIPrefabRes(It,(function(e,o){for(var a=null,c=0;c<i;c++){var u=n[c];if(!t.itemNode)return;(a=t.itemNode.children[c])||((a=s(o)).on(S.EventType.TOUCH_END,t.onSelectItem,t),t.itemNode.addChild(a)),a.setPosition(u.x,u.y),a.getComponent(b).setContentSize(r,r),a.getComponent(te).loadData(u,r)}})))}}},n.playAnim=function(t){this._audioSource&&(this._audioSource.stop(),Q.instance.playSound(t,this._audioSource))},n.removeContent=function(){var t;if(this.itemNode)for(var e=this.itemNode.children.length-1;e>=0;e--)(t=this.itemNode.children[e]).on(S.EventType.TOUCH_END,this.onSelectItem,this),t.getComponent(te).dispose(),t.destroy(),t.removeFromParent()},n.onSelectItem=function(t){var e=this,n=t.currentTarget.getComponent(te),i=n.data;if(i.isKey&&n.getIsCheck()?(n.setCheck(),this.selectNum++,this.playAnim(Gt.AUDIO_SOUND.CORRECT),this.anim.play("applause")):n.getIsCheck()&&(this.anim.play("grievance"),this.playAnim(Gt.AUDIO_SOUND.ERRORR)),this.selectNum==i.count&&!this.isJump){this.isJump=!0;var r=ut.instance.setTimeout((function(){e.isFinal?(e.setTakeNotes(),pt.instance.curTypePro++,St.instance.showPanel(Et,pt.instance.curTypePro),St.instance.hidePanel(e.moduleEum),Q.instance.playOneShot(Gt.AUDIO_SOUND.SUCCESSMUSIC)):(e.removeContent(),e.progress++,e.updatePanel()),ut.instance.clearTimeout(r),e.isJump=!1}),1e3)}},n.setTakeNotes=function(){var t=pt.instance.gameID;-1==pt.instance.getGameIdLevel(t).indexOf(2)&&vt.instance.post(at.takeNotes,{gameId:t,level:2},(function(e){e.success&&200==e.code&&(console.debug("保存成功2"),pt.instance.setGameIdLevel(t,2),vt.instance.sendAwardReceive())}))},n.onBack=function(){St.instance.showPanel(Tt),St.instance.hidePanel(this.moduleEum)},n.dispose=function(){this.removeContent(),this.selectNum=0,this.isFinal=!1,this.isJump=!1,this.anim&&(this.anim.destroy(),this.anim=null),this._audioSource&&(this._audioSource.stop(),this._audioSource.destroy(),this._audioSource=null)},e}(yt)).prototype,"itemNode",[Ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qt=H(Kt.prototype,"desLab",[qt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Jt=H(Kt.prototype,"model",[Bt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Zt=H(Kt.prototype,"_audioSource",[Vt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Yt=Kt))||Yt);t._RF.pop(),t._RF.push({},"0dc9dlmYRRCQ6UIQuffTBUa","EventType",void 0);var re,oe,ae="DragStart",se="DragMove",ce="DragEnd";t._RF.pop(),t._RF.push({},"fe9be+GYUlOwJmQicjTs+S2","LayerManager",void 0);var ue=(0,e.ccclass)("LayerManager")(((oe=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this)._layerNodeDic=void 0,e._layerCompDic=void 0,e}U(e,t);var n=e.prototype;return n.init=function(){this._layerNodeDic=new Map,this._layerCompDic=new Map},n.setLayer=function(t,e,n){this._layerNodeDic.set(t,e),this._layerCompDic.set(t,n)},n.addToLayer=function(t,e,n,r){var o=this._layerNodeDic.get(e);o?(o.addChild(t),t.setPosition(n,r)):i("can not find layer: ",e)},n.getLayer=function(t){return this._layerCompDic.get(t)},n.getLayerNode=function(t){return this._layerNodeDic.get(t)},n.clear=function(t){var e=this.getLayer(t);e?e.clear():i("can not find layer: ",t)},k(e,null,[{key:"I",get:function(){return this.instance||(this.instance=new e),this.instance}}]),e}(m)).instance=void 0,re=oe))||re;t._RF.pop(),t._RF.push({},"21a48bRsaJFSYLpGJajLQZB","LayerEnum",void 0);var le,he="Drag";t._RF.pop(),t._RF.push({},"187e98EWtRIY5r1m9D3Xjog","Dragable",void 0);var fe=(0,e.ccclass)("Dragable")(le=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).parent=void 0,e}U(e,t);var n=e.prototype;return n.onLoad=function(){},n.setEnable=function(t){t?this.node.hasEventListener(S.EventType.TOUCH_START)||this.node.on(S.EventType.TOUCH_START,this.onTouchStart,this):this.node.hasEventListener(S.EventType.TOUCH_START)&&this.node.off(S.EventType.TOUCH_START,this.onTouchStart,this)},n.onTouchStart=function(t){this.node.emit(ae,this.node),this.node.on(S.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(S.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(S.EventType.TOUCH_CANCEL,this.onTouchCancel,this),this.parent=this.node.parent,this.node.setParent(ue.I.getLayerNode(he));var e=t.getUILocation(),n=this.node.parent.getComponent(b).convertToNodeSpaceAR(new T(e.x,e.y));this.node.setPosition(n.x,n.y)},n.onTouchMove=function(t){var e=t.getUILocation(),n=this.node.parent.getComponent(b).convertToNodeSpaceAR(new T(e.x,e.y));this.node.setPosition(n.x,n.y),this.node.emit(se,this.node,e.x,e.y)},n.onTouchEnd=function(t){this.node.setParent(this.parent),this.node.off(S.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.off(S.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(S.EventType.TOUCH_CANCEL,this.onTouchCancel,this);var e=t.getUILocation();this.node.emit(ce,this.node,e.x,e.y)},n.onTouchCancel=function(t){this.node.setParent(this.parent),this.node.off(S.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.off(S.EventType.TOUCH_END,this.onTouchEnd,this);var e=t.getUILocation();this.node.emit(ce,this.node,e.x,e.y)},n.onDisable=function(){this.node.off(S.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(S.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},e}(m))||le;t._RF.pop(),t._RF.push({},"a3f8e4g519JCbqBHg3KCpwP","Consts",void 0);var pe,de,ve,ge,me,ye=function(){};ye.Width=960,ye.Height=640,t._RF.pop(),t._RF.push({},"48b4fxVj8lGKKVk/G6/WK7U","Cesi",void 0);var be,Se=e.ccclass,_e=e.property,we=(pe=Se("Cesi"),de=_e(y),pe((me=H((ge=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return z(e=t.call.apply(t,[this].concat(i))||this,"drag",me,G(e)),e.lastX=void 0,e.lastY=void 0,e}U(e,t);var n=e.prototype;return n.onLoad=function(){this.drag.node.on(ae,this.onDragStart,this),this.drag.node.on(ce,this.onDragEnd,this)},n.show=function(){},n.onDragStart=function(t){this.lastX=t.position.x,this.lastY=t.position.y},n.onDragEnd=function(t,e,n){},n.onBack=function(){St.instance.showPanel(wt),St.instance.hidePanel(Lt)},e}(yt)).prototype,"drag",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=ge))||ve);t._RF.pop(),t._RF.push({},"d0e9f+7BlRGWp2jmmch0ywr","CompleteTips",void 0);var Ce,Te,Ee,Re,Ie,Pe,De,Oe,Fe,Le,Me,Ae,Ne,xe,ke,Ue,je,Ge=e.ccclass,ze=(e.property,Ge("CompleteTips")(be=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).itme=null,e}U(e,t);var n=e.prototype;return n.onLoad=function(){},n.show=function(t){var e=this;Q.instance.playOneShot(Gt.AUDIO_SOUND.SUCCESSMUSIC),this.itme=ut.instance.setTimeout((function(){St.instance.showPanel(Tt),St.instance.hidePanel(e.moduleEum),ut.instance.clearTimeout(e.itme)}),3e3)},n.onClose=function(){St.instance.showPanel(Tt),St.instance.hidePanel(this.moduleEum)},n.dispose=function(){ut.instance.clearTimeout(this.itme),this.itme=null},e}(yt))||be);t._RF.pop(),t._RF.push({},"a3503aAhpZAPK4ei6KTKkIE","LoadingPanel",void 0);var He,qe=e.ccclass,Be=e.property,Ve=(Ce=qe("LoadingPanel"),Te=Be(y),Ee=Be(y),Re=Be(E),Ie=Be(_),Pe=Be(S),De=Be(S),Oe=Be(S),Ce((Me=H((Le=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return z(e=t.call.apply(t,[this].concat(i))||this,"icon",Me,G(e)),z(e,"textSp",Ae,G(e)),z(e,"loading",Ne,G(e)),z(e,"proLab",xe,G(e)),z(e,"icon1",ke,G(e)),z(e,"icon2",Ue,G(e)),z(e,"icon3",je,G(e)),e.tween=null,e.time=void 0,e}U(e,t);var n=e.prototype;return n.onLoad=function(){},n.show=function(t){var e=this;this.node.active=!0,pt.instance.curTypePro=t;var n=pt.instance.gameID,i=ot.instance.getCurPorCfg("gameType",n,t);i&&(K.setCarIcon("loading/"+i.icon,this.icon),K.setCarIcon("loading/"+i.text,this.textSp),this.tween||(this.tween=new R(this.loading)),this.loading.progress=0,this.tween.to(.5,{progress:.2}).to(.6,{progress:.6}).to(.6,{progress:1}).call((function(){var t=e.getModuelUrl();St.instance.showPanel(t),e.tween&&(e.tween.removeSelf(),e.tween=null)})).start(),this.proLab.string="0%",this.time=ut.instance.setInterval(this.updateProLab,100,this),this.loadPanel(),this.icon1.active=1==t,this.icon2.active=2==t,this.icon3.active=3==t)},n.updateProLab=function(t){var e=t,n=parseFloat(e.loading.progress.toFixed(2));e.proLab.string=Math.ceil(100*n)+"%",1==n&&ut.instance.clearInterval(e.time)},n.loadPanel=function(){K.preload(this.getModuelUrl(),a)},n.getModuelUrl=function(){var t="";switch(pt.instance.curTypePro){case 1:t=Ot;break;case 2:t=Rt;break;case 3:t=Pt}return t},n.onBack=function(){St.instance.showPanel(Tt),St.instance.hidePanel(this.moduleEum),ut.instance.clearInterval(this.time)},n.hide=function(){this.tween&&(this.tween.stop(),this.tween.removeSelf(),this.tween=null)},e}(yt)).prototype,"icon",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=H(Le.prototype,"textSp",[Ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=H(Le.prototype,"loading",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=H(Le.prototype,"proLab",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=H(Le.prototype,"icon1",[Pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ue=H(Le.prototype,"icon2",[De],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),je=H(Le.prototype,"icon3",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=Le))||Fe);t._RF.pop(),t._RF.push({},"f1bcdp9t1BPdo0rL87xRyba","util",void 0);var Ye=e.ccclass,Ke=(e.property,Ye("util")(He=function(){function t(){}return t.clone=function(t){if(null===t||"object"!=typeof t)return t;var e={};for(var n in t.constructor===Array&&(e=[]),t)t.hasOwnProperty(n)&&(e[n]=this.clone(t[n]));return e},t.objectToArray=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);return e},t.arrayToObject=function(t,e){var n={};for(var i in t)t.hasOwnProperty(i)&&t[i][e]&&(n[t[i][e]]=t[i]);return n},t.getWeightRandIndex=function(t,e){for(var n=Math.floor(Math.random()*e),i=0,r=0;r<t.length&&!(n<(i+=t[r]));r++);return r},t.getRandomNFromM=function(t,e){for(var n=[],i=0,r=0;r<e&&!(r>=t+1);){i=this.getRandomInt(0,t);for(var o=0,a=0;a<r;a++)if(n[a]===i){o=1;break}0===o&&(n[r]=i,r++)}return n},t.getStringLength=function(t){for(var e=t,n=0,i=0,r=e.length;i<r;i++){n+=e.charCodeAt(i)<=255?1:2}return Math.ceil(n/2)},t.isEmptyObject=function(t){var e=!0;if(t&&t.constructor===Object){for(var n in t)if(t.hasOwnProperty(n)){e=!1;break}}else e=!1;return e},t.formatNum=function(t){if(t<=0)return"0";var e=Math.round(Math.log(t)/Math.log(1e3));return parseInt((t/Math.pow(1e3,e-1<0?0:e-1)).toString(),10)+["","","K","M","B"][e]},t.isNewDay=function(t){var e=new Date(t),n=new Date,i=e.getFullYear(),r=e.getMonth(),o=e.getDate(),a=n.getFullYear(),s=n.getMonth(),c=n.getDate();return a>i||(s>r||c>o)},t.getPropertyCount=function(t){var e,n=0;for(e in t)t.hasOwnProperty(e)&&n++;return n},t.difference=function(t,e){var n=[];if(t.constructor!==Array||e.constructor!==Array)return n;for(var i=t.length,r=0;r<i;r++)-1===e.indexOf(t[r])&&n.push(t[r]);return n},t.simulationUUID=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},t.trim=function(t){return t.replace(/(^\s*)|(\s*$)/g,"")},t.isNowValid=function(t,e){var n=new Date(t),i=new Date(e),r=!1;if(n.getDate()+""!="NaN"&&i.getDate()+""!="NaN"){var o=new Date;r=o<i&&o>n}return r},t.getDeltaDays=function(t,e){var n=new Date(t),i=new Date(e),r=n.getFullYear(),o=n.getMonth()+1,a=n.getDate(),s=i.getFullYear(),c=i.getMonth()+1,u=i.getDate();t=new Date(r+"/"+o+"/"+a+" GMT+0800").getTime();var l=(e=new Date(s+"/"+c+"/"+u+" GMT+0800").getTime())-t;return Math.floor(l/864e5)},t.getMin=function(t){var e=0;if(t.constructor===Array)for(var n=t.length,i=0;i<n;i++)e=0===i?Number(t[0]):e>Number(t[i])?Number(t[i]):e;return e},t.formatTwoDigits=function(t){return(Array(2).join("0")+t).slice(-2)},t.formatDate=function(t,e){var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var i in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?""+n[i]:("00"+n[i]).substr((""+n[i]).length)));return e},t.getDay=function(){var t=new Date;return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()},t.formatMoney=function(t){for(var e=["","K","M","G","T","P","E","Z","Y","B","N","D"],n="",i=0;i<e.length;i++){if(!(t>=1e4)){n=Math.floor(t)+e[i];break}t/=1e3}return""===n&&(n=Math.floor(t)+"U"),n},t.formatTimeForSecond=function(t){var e="",n=t%60,i=Math.floor(t/60);i=i<0?0:i;var r=Math.floor(i/60),o=i%60;return r>0&&(e+=r>9?r.toString():"0"+r,e+=":"),e+=o>9?o.toString():"0"+o,e+=":",e+=n>9?n.toString():"0"+n},t.formatTimeForMillisecond=function(t){var e=Math.floor(t/1e3%60),n=Math.floor(t/1e3/60%60),i=Math.floor(t/1e3/60/60);return(e<10?"0"+e:e)+":"+(n<10?"0"+n:n)+":"+(i<10?"0"+i:i)},t.zip=function(t){var e=pako.gzip(encodeURIComponent(t),{to:"string"});return this.base64encode(e)},t.rand=function(t){for(var e=this.clone(t),n=e.length-1;n>=0;n--){var i=Math.floor(Math.random()*(n+1)),r=e[i];e[i]=e[n],e[n]=r}return e},t.getGlobal=function(t){t&&t.getComponent(b).convertToWorldSpaceAR||i("node: ",t);var e=t.getComponent(b).convertToWorldSpaceAR(T.ZERO);return e.x-=ye.Width/2,e.y-=ye.Height/2,e},t.getGlobalByVec3=function(t){return new T(t.x-ye.Width/2,t.y-ye.Height/2,t.z)},t.clamp=function(t,e,n){return null!=e&&(t=Math.max(t,e)),null!=n&&(t=Math.min(t,n)),t},t.fixNumberByAddZeroAtPrefix=function(t,e){for(var n=e-(t+"").length,i="",r=0;r<n;r++)i+="0";return i+=t},t.distance=function(t,e,n,i){return Math.sqrt(this.distanceSquare(t,e,n,i))},t.distanceSquare=function(t,e,n,i){return(n-t)*(n-t)+(i-e)*(i-e)},t.getRandom=function(t,e){return t+Math.random()*(e-t)},t.getRandomInt=function(t,e){return Math.floor(t+Math.random()*(e-t+1))},t.to16=function(t,e,n){void 0===e&&(e=4),void 0===n&&(n="0x");for(var i=t.toString(16);i.length<e;)i="0"+i;return i=n+i},t.getAngle=function(t,e,n,i){var r=Math.atan2(t-n,e-i);return this.R2A(r)},t.R2A=function(t){return 180*t/Math.PI},t.A2R=function(t){return t*Math.PI/180},t.isAndroid=function(){var t=navigator.userAgent;return t.indexOf("Android")>-1||t.indexOf("Adr")>-1},t.isIOS=function(){var t=navigator.userAgent,e=!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),n=t.indexOf("iPad")>-1,i=t.indexOf("iPhone")>-1||t.indexOf("Mac")>-1;return!!(e||n||i)},t}())||He);t._RF.pop(),t._RF.push({},"c678338DOdGbalFjq+Q/3Qk","PlatformIos",void 0);var We,Qe,Je,Ze,Xe,$e,tn,en,nn,rn,on,an,sn,cn=function(){function t(){}var e=t.prototype;return e.hasRegistFunc=function(t){return window&&window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers[t]},e.reqFunc=function(t,e,n){window.webkit.messageHandlers[t].postMessage({})},e.setResFunc=function(t,e){window[t]||(window[t]=e)},e.clearResFunc=function(t){window[t]=void 0},k(t,null,[{key:"instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}();cn._instance=void 0,t._RF.pop(),t._RF.push({},"f3a56GGkVNL8bud5R4az/Uh","SelectGameItem",void 0);var un,ln,hn,fn,pn,dn,vn,gn,mn,yn=e.ccclass,bn=e.property,Sn=(We=yn("SelectGameItem"),Qe=bn(y),Je=bn(_),Ze=bn(S),Xe=bn(S),$e=bn(S),We((nn=H((en=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return z(e=t.call.apply(t,[this].concat(i))||this,"icon",nn,G(e)),z(e,"title",rn,G(e)),z(e,"star0",on,G(e)),z(e,"star1",an,G(e)),z(e,"star2",sn,G(e)),e.data=null,e}U(e,t);var n=e.prototype;return n.onLoad=function(){},n.loadData=function(t){this.data=t,this.title.string=t.name,K.setCarIcon("icon/"+t.icon,this.icon);var e=pt.instance.getGameIdLevel(t.id).length;this.star0.active=e>=1,this.star1.active=e>=2,this.star2.active=e>=3,1==e?this.star0.setPosition(0,158):2==e?(this.star0.setPosition(-30,158),this.star1.setPosition(30,158)):(this.star0.setPosition(-60,143),this.star1.setPosition(0,158),this.star2.setPosition(60,143))},n.dispose=function(){this.data=null},e}(m)).prototype,"icon",[Qe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rn=H(en.prototype,"title",[Je],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),on=H(en.prototype,"star0",[Ze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),an=H(en.prototype,"star1",[Xe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),sn=H(en.prototype,"star2",[$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tn=en))||tn);t._RF.pop(),t._RF.push({},"94e4arf6TZOn5+O3CfHejLa","SelectGamePanel",void 0);var _n,wn,Cn,Tn,En,Rn,In,Pn,Dn,On,Fn,Ln=e.ccclass,Mn=e.property,An=(un=Ln("SelectGamePanel"),ln=Mn(I),hn=Mn(S),fn=Mn(S),un((vn=H((dn=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return z(e=t.call.apply(t,[this].concat(i))||this,"sv",vn,G(e)),z(e,"content",gn,G(e)),z(e,"btnBack",mn,G(e)),e}U(e,t);var n=e.prototype;return n.onLoad=function(){this.initItem()},n.show=function(t){this.btnBack.active="wxApp"!=pt.instance.platform,console.log("platform: "+pt.instance.platform)},n.initItem=function(){var t=this,e=ot.instance.getTableArr("game");if(e){var n=P.instance.getVisibleSize(),i=n.height/ye.Height>1?1:n.height/ye.Height;K.getUIPrefabRes(Ct,(function(n,r){for(var o=null,a=e.length,c=0;c<a;c++){var u=e[c];(o=s(r)).setScale(i,i,i),o.on(S.EventType.TOUCH_END,t.onSelectItem,t),t.content.addChild(o),o.getComponent(Sn).loadData(u)}}))}},n.onSelectItem=function(t){var e=t.currentTarget.getComponent(Sn);pt.instance.gameID=e.data.id,pt.instance.updateReceive(),St.instance.hidePanel(this.moduleEum),St.instance.showPanel(Tt),Q.instance.playOneShot(Gt.AUDIO_SOUND.SELECTMENU)},n.removeContent=function(){for(var t,e=this.content.children.length-1;e>=0;e--)(t=this.content.children[e]).on(S.EventType.TOUCH_END,this.onSelectItem,this),t.getComponent(Sn).dispose(),t.destroy(),t.removeFromParent()},n.onBack=function(){if(Ke.isIOS())cn.instance.reqFunc("hqsjBack");else{if(!window.android)return void console.warn("平台暂无");window.android.hqsjBack()}},n.dispose=function(){this.removeContent()},e}(yt)).prototype,"sv",[ln],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gn=H(dn.prototype,"content",[hn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mn=H(dn.prototype,"btnBack",[fn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pn=dn))||pn);t._RF.pop(),t._RF.push({},"1ccd8j7I7FCj4TmFe/AEgSL","SelectProgressPanel",void 0);var Nn,xn,kn,Un,jn,Gn=e.ccclass,zn=e.property,Hn=(_n=Gn("SelectProgressPanel"),wn=zn(_),Cn=zn(_),Tn=zn(S),En=zn(S),_n((Pn=H((In=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return z(e=t.call.apply(t,[this].concat(i))||this,"nameLab",Pn,G(e)),z(e,"desLab",Dn,G(e)),z(e,"imgNode",On,G(e)),z(e,"tipsNode",Fn,G(e)),e}U(e,t);var n=e.prototype;return n.onLoad=function(){},n.show=function(t){this.updatePanel(),this.upLabDes(),this.updateTips()},n.updatePanel=function(){var t=pt.instance.gameID,e=ot.instance.getTypeCfgs("gameType",t);if(e){var n=e.length,i=P.instance.getVisibleSize(),r=i.height/ye.Height>=.7?.7:i.height/ye.Height;if(r<.63){var o=this.imgNode.getComponent(D);o.top=r<.52?180:220}this.imgNode.setScale(r,r,r);for(var a=pt.instance.getGameIdLevel(t),s=0;s<n;s++){var c=e[s],u=this.node.getChildByName("img_node");u.getChildByName("lab"+s).getComponent(_).string=c.name,u.getChildByName("btn"+s).getChildByName("icon_too_"+s).active=a.indexOf(s+1)>-1}}},n.updateTips=function(){this.tipsNode.active=!pt.instance.isTips&&pt.instance.isAchieve,this.tipsNode.active},n.upLabDes=function(){var t=pt.instance.gameID,e=ot.instance.getCfg("game",t);e&&(this.nameLab.string=e.name,this.desLab.string=e.des)},n.onBack=function(){St.instance.showPanel(wt),St.instance.hidePanel(this.moduleEum)},n.onBtnClickZero=function(){this.showLoading(1)},n.onBtnClickOne=function(){this.showLoading(2)},n.onBtnClickTwo=function(){this.showLoading(3)},n.showLoading=function(t){St.instance.showPanel(Et,t),St.instance.hidePanel(this.moduleEum),Q.instance.playOneShot(Gt.AUDIO_SOUND.SELECTEFFECT)},n.onClickTips=function(){this.tipsNode.active=!1,pt.instance.isTips=!0},n.dispose=function(){},e}(yt)).prototype,"nameLab",[wn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Dn=H(In.prototype,"desLab",[Cn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),On=H(In.prototype,"imgNode",[Tn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fn=H(In.prototype,"tipsNode",[En],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Rn=In))||Rn);t._RF.pop(),t._RF.push({},"ce4abvlKy1CkYnkVgWkCtw0","VideoPanel",void 0);var qn,Bn,Vn=e.ccclass,Yn=e.property,Kn="playing",Wn="paused",Qn="stopped",Jn="completed",Zn="meta-loaded",Xn="ready-to-play",$n="error",ti="clicked",ei=(Nn=Vn("VideoPanel"),xn=Yn(O),Nn((jn=H((Un=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return z(e=t.call.apply(t,[this].concat(i))||this,"video",jn,G(e)),e}U(e,t);var n=e.prototype;return n.onLoad=function(){var t=pt.instance.gameID,e=ot.instance.getTypeCfgs("gameType",t);if(e||e[0]){var n=e[0].url;n?this.video.remoteURL=at.svnResVideo+n:console.warn("当前没有配置视频资源")}},n.show=function(t){console.debug("视频界面以打开"),Q.instance.playMusic(!1)},n.setTakeNotes=function(){var t=pt.instance.gameID;-1==pt.instance.getGameIdLevel(t).indexOf(1)&&vt.instance.post(at.takeNotes,{gameId:t,level:1},(function(e){e.success&&200==e.code&&(console.debug("保存成功1"),pt.instance.setGameIdLevel(t,1),vt.instance.sendAwardReceive())}))},n.onState=function(t){switch(t.state){case Kn:console.debug("视频播放中");break;case Wn:console.debug("视频暂停中");break;case Qn:break;case ti:console.debug("点击视频");break;case Jn:this.setTakeNotes();var e=pt.instance.curTypePro=2;St.instance.showPanel(Et,e),St.instance.hidePanel(this.moduleEum),Q.instance.playMusic(!0);break;case Zn:console.debug("视频元数据加载完毕");break;case Xn:console.debug("视频加载完毕"),this.video.play();break;case $n:console.error("视频加载错误")}},n.onBack=function(){St.instance.showPanel(Tt),St.instance.hidePanel(this.moduleEum)},e}(yt)).prototype,"video",[xn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),kn=Un))||kn);t._RF.pop(),t._RF.push({},"5a711pkKHpBTKFyiYTg16sU","StateManager",void 0);var ni,ii=e.ccclass,ri=(e.property,ii("StateManager")(((Bn=function(){function t(t){this._stateDic=void 0,this._currentState=null,this._lastState=null,this._owner=void 0,this._stateDic={},this._owner=t}var e=t.prototype;return e.isExist=function(t){return!!this._stateDic[t]},e.getStateByKey=function(t){return this._stateDic[t]},e.registerState=function(t,e){this._owner==e.owner?this._stateDic[t]=e:console.warn("statemachine 与 state 所有者不一致")},e.removeState=function(t){delete this._stateDic[t]},e.changeState=function(t,e,n){if(void 0===e&&(e=null),void 0===n&&(n=!1),n||!this._currentState||this._currentState.getStateKey()!=t){var i=this._stateDic[t];null!=i?(null!=this._currentState&&this._currentState.exit(i.getStateKey()),this._lastState=this._currentState,this._currentState=i,this._currentState.enter(e)):console.warn("unregister state type: "+t)}},e.reEnterState=function(t){void 0===t&&(t=null),this._currentState&&this._currentState.reEnter(t)},e.update=function(t){null!=this._currentState&&this._currentState.update(t)},e.getCurrentState=function(){return this._currentState},e.getCurrentStateKey=function(){return null!=this._currentState?this._currentState.getStateKey():t.InvalidState},e.isInState=function(t){return t==this.getCurrentStateKey()},e.clear=function(){var e;for(var n in null!=this._currentState&&this._currentState.exit(t.InvalidState),this._stateDic)(e=this._stateDic[n])&&e.clear&&e.clear();this._stateDic={},this._currentState=null,this._lastState=null,this._owner=void 0},e.exitCurState=function(){null!=this._currentState&&this._currentState.exit(t.InvalidState)},e.dispose=function(){null!=this._currentState&&this._currentState.exit(t.InvalidState),this._currentState=null,this._lastState=null,this._owner=void 0},t}()).InvalidState="Invalid",qn=Bn))||qn);t._RF.pop(),t._RF.push({},"89cf5c66OlAU7EX0Yjbx+sb","StateBase",void 0);var oi=e.ccclass,ai=(e.property,oi("StateBase")(ni=function(){function t(t){this._owner=void 0,this._owner=t}var e=t.prototype;return e.enter=function(t){void 0===t&&(t=void 0),this.onEnter(t)},e.exit=function(t){this.onExit(t)},e.reEnter=function(t){void 0===t&&(t=null),this.onReEnter(t)},e.update=function(t){this.onUpdate(t)},e.onEnter=function(t){},e.onReEnter=function(t){},e.onUpdate=function(t){},e.onExit=function(t){},e.clear=function(){},e.getStateKey=function(){return ri.InvalidState},k(t,[{key:"owner",get:function(){return this._owner}}]),t}())||ni);t._RF.pop(),t._RF.push({},"090022meiFOtYdmcwo7Ssmd","FixState",void 0);var si,ci=function(t){function e(){return t.apply(this,arguments)||this}return U(e,t),e.prototype.onEnter=function(){var t=this._owner,e=t.node;t.destScale;e.setScale(.8,.8,.8)},e}(ai);t._RF.pop(),t._RF.push({},"19f71iR/lZGyIllIGhA+S5k","NormalState",void 0);var ui=e.ccclass,li=(e.property,ui("NormalState")(si=function(t){function e(){return t.apply(this,arguments)||this}U(e,t);var n=e.prototype;return n.onEnter=function(){this._owner.node.getComponent(fe).setEnable(!0),this.setNormalSize()},n.setNormalSize=function(){this._owner.node.scale=new T(1,1,1)},n.setDragSize=function(){var t=this._owner,e=P.instance.getVisibleSize(),n=1;(e.height/ye.Height>=.7?.7:e.height/ye.Height)<.65&&(n=.8),t.scale=new T(n,n,n)},n.onDragStart=function(){this.setDragSize()},n.onDragEnd=function(){this.setNormalSize()},n.onExit=function(){this._owner.node.getComponent(fe).setEnable(!1)},e}(ai))||si);t._RF.pop(),t._RF.push({},"ff2d54RIilJx4XtjqD1WuyH","SceneInteractState",void 0);var hi,fi,pi,di,vi,gi,mi,yi="FixState",bi="NormalState";t._RF.pop(),t._RF.push({},"dd49dxkk75OLat5RdfXtYOt","SceneInteractItem",void 0);var Si,_i,wi,Ci,Ti,Ei,Ri,Ii,Pi,Di,Oi,Fi,Li,Mi,Ai,Ni,xi,ki=e.ccclass,Ui=e.property,ji=(hi=ki("SceneInteractItem"),fi=Ui(S),pi=Ui(y),hi((gi=H((vi=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return z(e=t.call.apply(t,[this].concat(i))||this,"bg",gi,G(e)),z(e,"icon",mi,G(e)),e.destScale=void 0,e.stateMgr=null,e.data=void 0,e}U(e,t);var n=e.prototype;return n.onLoad=function(){this.stateMgr=new ri(this),this.stateMgr.registerState(yi,new ci(this)),this.stateMgr.registerState(bi,new li(this))},n.loadData=function(t){var e=this;this.data=t,K.setCarIcon("sceneInteract/"+t.icon,this.icon,(function(){e.icon.getComponent(b).setContentSize(80,80)})),this.destScale=1.4,this.stateMgr.changeState(bi)},n.onDragStart=function(){var t=this.stateMgr.getCurrentState();t instanceof li&&t.onDragStart()},n.onDragEnd=function(){var t=this.stateMgr.getCurrentState();t instanceof li&&t.onDragEnd()},n.place=function(){this.stateMgr.changeState(yi)},n.dispose=function(){this.data=null,this.stateMgr&&(this.stateMgr.clear(),this.stateMgr=null)},e}(m)).prototype,"bg",[fi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mi=H(vi.prototype,"icon",[pi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),di=vi))||di);t._RF.pop(),t._RF.push({},"957099qEh5BM7urUoZM6leC","SceneInteract",void 0);var Gi=e.ccclass,zi=e.property,Hi=(Si=Gi("SceneInteract"),_i=zi(S),wi=zi(S),Ci=zi(S),Ti=zi(_),Ei=zi(y),Ri=zi(S),Ii=zi(w),Si((Oi=H((Di=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return z(e=t.call.apply(t,[this].concat(i))||this,"content",Oi,G(e)),z(e,"leftContainer",Fi,G(e)),z(e,"rightContainer",Li,G(e)),z(e,"desLab",Mi,G(e)),z(e,"model",Ai,G(e)),z(e,"sv",Ni,G(e)),e._anim=null,e.progress=void 0,e.isFinal=!1,e.lastIndex=void 0,e.leftContainerPos=new T,e.rightContainerPos=new T,z(e,"_audioSource",xi,G(e)),e.lastX=void 0,e.lastY=void 0,e}U(e,t);var n=e.prototype;return n.onLoad=function(){var t=Ke.getGlobal(this.leftContainer),e=Ke.getGlobal(this.rightContainer),n=this.leftContainer.getComponent(b),i=this.rightContainer.getComponent(b);this.leftContainerPos.set(new T(t.x-n.width/2,t.y+n.height/2)),this.rightContainerPos.set(new T(e.x-i.width/2,e.y+i.height/2)),this._anim=this.model.node.getComponent(C),this._audioSource=this.getComponent(w)},n.show=function(t){this.progress=1,this.updatePanel()},n.updatePanel=function(){var t=this,e=pt.instance.gameID,n=ot.instance.getCurPorCfgs("sceneInteract",e,this.progress);if(n){var i=n[0];if(i){var r=P.instance.getVisibleSize();if((r.height/ye.Height>=.7?.7:r.height/ye.Height)<.65){var o=.8;this.leftContainer.setScale(o,o),this.rightContainer.setScale(o,o),this.sv.setScale(o,o),this.model.node.setScale(o,o);var a=this.content.getComponent(F);a.spacingX=80,a.paddingLeft=85}this.desLab.string=i.des,this.isFinal=i.isFinal,this.playAnim(i.anim),K.getUIPrefabRes(Dt,(function(e,i){for(var r=null,o=n.length,a=0;a<o;a++){var c=n[a];(r=s(i)).on(ae,t.onDragStart,t),r.on(ce,t.onDragEnd,t),t.content.addChild(r),r.getComponent(ji).loadData(c)}}))}}},n.release=function(){for(var t,e=this.content.children.length,n=e-1;n>=0;n--)(t=this.content.children[n]).off(ae,this.onDragStart,this),t.off(ce,this.onDragEnd,this),t.getComponent(ji).dispose(),t.destroy(),t.removeFromParent();for(var i=(e=this.leftContainer.children.length)-1;i>=0;i--){var r=(t=this.leftContainer.children[i]).getComponent(ji);r&&(r.dispose(),t.destroy(),t.removeFromParent())}e=this.rightContainer.children.length;for(var o=this.rightContainer.childrenCount-1;o>=0;o--){var a=(t=this.rightContainer.children[o]).getComponent(ji);a&&(a.dispose(),t.destroy(),t.removeFromParent())}},n.onDragStart=function(t){this.lastIndex=t.getSiblingIndex(),this.lastX=t.position.x,this.lastY=t.position.y;var e=t.getComponent(ji);e.bg.active=!1,e.onDragStart()},n.onDragEnd=function(t,e,n){var i=t.getComponent(ji),r=Ke.getGlobalByVec3(new T(e,n)),o=i.data,a=1==o.type?this.leftContainer:this.rightContainer;if(this.checkDis(o,r.x,r.y)){t.setParent(a),t.setPosition(o.x,o.y),t.off(ae,this.onDragStart,this),t.off(ce,this.onDragEnd,this),i.place();var s=this.content.children.length;if(this.isFinal&&s<1)return St.instance.showPanel(Ft),St.instance.hidePanel(Pt),void this.setTakeNotes();if(s<1)return this.progress++,this.release(),this.updatePanel(),void this.playAnim(Gt.AUDIO_SOUND.SUCCESSEFFECT);this._anim.play("applause");var c=a.getComponent(C),u=P.instance.getVisibleSize();(u.height/ye.Height>=.7?.7:u.height/ye.Height)<.65?c.play("scale1"):c.play("scale"),this.playAnim(Gt.AUDIO_SOUND.CORRECT)}else t.setSiblingIndex(this.lastIndex),t.setPosition(this.lastX,this.lastY),i.onDragEnd(),this._anim.play("grievance"),this.playAnim(Gt.AUDIO_SOUND.ERRORR),i.bg.active=!0},n.playAnim=function(t){this._audioSource&&(this._audioSource.stop(),Q.instance.playSound(t,this._audioSource))},n.setTakeNotes=function(){var t=pt.instance.gameID;-1==pt.instance.getGameIdLevel(t).indexOf(3)&&vt.instance.post(at.takeNotes,{gameId:t,level:3},(function(e){e.success&&200==e.code&&(console.debug("保存成功3"),pt.instance.setGameIdLevel(t,3),vt.instance.sendAwardReceive())}))},n.checkDis=function(t,e,n){var i=(1==t.type?this.leftContainerPos.x:this.rightContainerPos.x)+178,r=(t.type,this.leftContainerPos.y)-187;return Ke.distanceSquare(i,r,e,n)<3600},n.onBack=function(){St.instance.showPanel(Tt),St.instance.hidePanel(this.moduleEum),this.release()},n.dispose=function(){this.release(),this._audioSource&&(this._audioSource.stop(),this._audioSource.destroy(),this._audioSource=null),this._anim&&(this._anim.destroy(),this._anim=null),this.progress=0},e}(yt)).prototype,"content",[_i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fi=H(Di.prototype,"leftContainer",[wi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Li=H(Di.prototype,"rightContainer",[Ci],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Mi=H(Di.prototype,"desLab",[Ti],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ai=H(Di.prototype,"model",[Ei],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ni=H(Di.prototype,"sv",[Ri],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xi=H(Di.prototype,"_audioSource",[Ii],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pi=Di))||Pi);t._RF.pop(),t._RF.push({},"64650l8N21MMoG4D2AoH5YK","UIModule",void 0);var qi,Bi=function(){function t(){}return t.init=function(){St.instance.registerPanel(wt,An),St.instance.registerPanel(Tt,Hn),St.instance.registerPanel(Et,Ve,!0),St.instance.registerPanel(Rt,ie),St.instance.registerPanel(Pt,Hi),St.instance.registerPanel(Ot,ei),St.instance.registerPanel(Ft,ze),St.instance.registerPanel(Lt,we)},t.initPrefab=function(){},t}();t._RF.pop(),t._RF.push({},"b40c01HzXhJNKR9w33f1MzU","LayerBase",void 0);var Vi,Yi=(0,e.ccclass)("LayerBase")(qi=function(t){function e(){return t.apply(this,arguments)||this}return U(e,t),e.prototype.clear=function(){},e}(m))||qi;t._RF.pop(),t._RF.push({},"ee185T4Oh9NV4ztLZ79D2wp","LayerDrag",void 0);var Ki,Wi=(0,e.ccclass)("LayerDrag")(Vi=function(t){function e(){return t.apply(this,arguments)||this}return U(e,t),e.prototype.start=function(){},e}(Yi))||Vi;t._RF.pop(),t._RF.push({},"4f3eehMVuhLeb13do94/7VR","GameMain",void 0);var Qi,Ji,Zi,Xi,$i,tr=e.ccclass;e.property,tr("gameMain")(Ki=function(t){function e(){return t.apply(this,arguments)||this}U(e,t);var n=e.prototype;return n.onLoad=function(){var t=this;Bi.init(),this.init(),console.log("进入游戏"),pt.instance.urlSearch(),K.preload(wt,a),ot.instance.loadConfig((function(){t.loadGamePrefab()})),this.initLayerManager()},n.init=function(){window.app={gameMain:e,localConfig:ot,CsvManager:it,resourceUtil:K,UIManger:St,LayerManager:ue,ServiceManager:vt,gameData:pt}},n.initLayerManager=function(){ue.I.init();var t=this.node.getChildByName("LayerDrag");t.setSiblingIndex;var e=t.getComponent(Wi);ue.I.setLayer(he,t,e)},n.loadGamePrefab=function(){var t=pt.instance.getGameIdParam();console.log("发送数据请求"),vt.instance.get(at.getByGameId,t,(function(t){t.success&&pt.instance.setData(t),St.instance.showPanel(wt),console.log("收到数据返回")}))},e}(m));t._RF.pop(),t._RF.push({},"98dcdQl8GhEYLJRG8ap+Eh+","GameRoot",void 0);var er,nr=e.ccclass,ir=e.property;Qi=nr("GameRoot"),Ji=ir(w),Qi(($i=H((Xi=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return z(e=t.call.apply(t,[this].concat(i))||this,"_audioSource",$i,G(e)),e}U(e,t);var n=e.prototype;return n.onLoad=function(){var t=this.getComponent(w);this._audioSource=t,L.addPersistRootNode(this.node),Q.instance.init(this._audioSource),Q.instance.playMusic(!0)},n.onEnable=function(){},n.onDisable=function(){this._audioSource&&(this._audioSource.stop(),this._audioSource.destroy(),this._audioSource=null)},e}(m)).prototype,"_audioSource",[Ji],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Zi=Xi));t._RF.pop(),t._RF.push({},"578e0CTOvFO6qk6NWSwASmE","Drag",void 0);var rr,or=e.ccclass;e.property,or("Drag")(er=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).parent=void 0,e}U(e,t);var n=e.prototype;return n.onLoad=function(){this.node.hasEventListener(S.EventType.TOUCH_START)||this.node.on(S.EventType.TOUCH_START,this.onTouchStart,this)},n.onTouchStart=function(t){this.node.emit(ae,this.node),this.node.on(S.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(S.EventType.TOUCH_MOVE,this.onTouchMove,this),this.parent=this.node.parent,this.node.setParent(ue.I.getLayerNode(he));P.instance.getVisibleSize();var e=this.node.parent.getComponent(b).convertToNodeSpaceAR(this.node.worldPosition);this.node.parent.setPosition(0,0),this.node.setPosition(e.x,e.y)},n.onTouchMove=function(t){this.node.worldPosition;var e=t.getUILocation(),n=this.node.parent.getComponent(b).convertToNodeSpaceAR(new T(e.x,e.y));this.node.setPosition(n.x,n.y),this.node.emit(se,this.node,t.getLocation().x,t.getLocation().y)},n.onTouchEnd=function(t){this.node.setParent(this.parent),this.node.off(S.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.off(S.EventType.TOUCH_END,this.onTouchEnd,this),this.node.emit(ce,this.node,t.getLocation().x,t.getLocation().y)},n.onTouchCancel=function(t){this.node.setParent(this.parent),this.node.off(S.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.off(S.EventType.TOUCH_END,this.onTouchEnd,this),this.node.emit(ce,this.node,t.getLocation().x,t.getLocation().y)},n.onDisable=function(){this.node.off(S.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(S.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},e}(m));t._RF.pop(),t._RF.push({},"e5667FaC0lNh5CzGMSbFLs9","IPlatform",void 0),t._RF.pop(),t._RF.push({},"615a87h4R9CN7fLYX7tsOrY","PlatformAndroid",void 0),t._RF.pop(),t._RF.push({},"b10b0hQ+KNIjLLp6mUS7QFN","PlatformOther",void 0),t._RF.pop(),t._RF.push({},"4e02aS2x8NPMaNqv455uRbt","SceneInteractIcon",void 0);var ar,sr=e.ccclass;e.property,sr("SceneInteractIcon")(rr=function(t){function e(){return t.apply(this,arguments)||this}return U(e,t),e}(m));t._RF.pop(),t._RF.push({},"ea04d9otq1LHb246JdjtLGH","CCHelper",void 0);var cr,ur,lr=e.ccclass;e.property,lr("CCHelper")(ar=function(t){function e(){return t.apply(this,arguments)||this}return U(e,t),e.prototype.start=function(){},e}(m));t._RF.pop(),t._RF.push({},"d41282ylT5Gc4ctTtJ3Szc8","EventManager",void 0);var hr,fr;(0,e.ccclass)("EventManager")(((ur=function(){function t(){}return t.on=function(t,e,n){var i={handler:e,target:n},r=this.handlers[t];r||(r=[],this.handlers[t]=r);for(var o=0;o<r.length;o++)if(!r[o])return r[o]=i,o;return r.push(i),r.length},t.off=function(t,e,n){var i=this.handlers[t];if(i)for(var r=0;r<i.length;r++){var o=i[r];if(o.handler===e&&(!n||n===o.target)){i.splice(r,1);break}}},t.dispatchEvent=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var r,o=this.handlers[t];for(r=1;r<arguments.length;r++);if(o)for(r=0;r<o.length;r++){var a=o[r];a.handler&&a.handler.apply(a.target,n)}},t.setSupportEventList=function(t){if(!(t instanceof Array))return o("supportEvent was not array"),!1;for(var e in this.supportEvent={},t){var n=t[e];this.supportEvent[n]=e}return!0},t}()).handlers=void 0,ur.supportEvent=void 0,cr=ur));t._RF.pop(),t._RF.push({},"10a09om3sZD8q2H50TLwLIc","eventListener",void 0);var pr,dr,vr=e.ccclass,gr=(e.property,vr("oneToOneListener")(hr=function(){function t(){this.supportEvent={},this.handle={},this.supportEvent=null}var e=t.prototype;return e.on=function(t,e,n){this.handle[t]={handler:e,target:n}},e.off=function(t,e){var n=this.handle[t];n&&n.handler&&n.handler===e&&delete this.handle[t]},e.dispatchEvent=function(t){if(null===this.supportEvent||this.supportEvent.hasOwnProperty(t)){for(var e=this.handle[t],n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);e.handler?e.handler.apply(e.target,n):i("not register "+t+"    callback func")}else o("please add the event into clientEvent.js")},e.setSupportEventList=function(t){if(!(t instanceof Array))return o("supportEvent was not array"),!1;for(var e in this.supportEvent={},t){var n=t[e];this.supportEvent[n]=e}return!0},t}())||hr);vr("eventListener")(fr=function(){function t(){}return t.getBaseClass=function(t){return gr},t}());t._RF.pop(),t._RF.push({},"8cbacDdVTBOgZQMyvQzOeAz","lodash",void 0);var mr,yr;(0,e.ccclass)("lodash")(((dr=function(){function t(){}return t.find=function(t,e){var n;if(Array.isArray(t)||(t=this.toArray(t)),(n=t.filter(e)).length)return n[0]},t.forEach=function(t,e){Array.isArray(t)?t.forEach(e):this.toArrayKey(t).forEach((function(n,i,r){var o=n.key,a=n.value;e(a,o,t)}))},t.cloneDeep=function(t){if(null===t||"object"!=typeof t)return t;var e={};for(var n in t.constructor===Array&&(e=[]),t)t.hasOwnProperty(n)&&(e[n]=this.cloneDeep(t[n]));return e},t.map=function(t,e){Array.isArray(t)||(t=this.toArray(t));var n=[];return t.forEach((function(t,i,r){n.push(e(t,i,r))})),n},t.random=function(t,e){var n=Math.random()*(e-t+1)+t;return Math.floor(n)},t.toArrayKey=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({key:n,value:t[n]});return e},t.toArray=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);return e},t.filter=function(t,e){return Array.isArray(t)||(t=this.toArray(t)),t.filter(e)},t.isEqual=function(t,e){if(!(t instanceof Object)||!(e instanceof Object))return t===e;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t){var i=t[n]instanceof Object,r=e[n]instanceof Object;if(i&&r)return this.isEqual(t[n],e[n]);if(t[n]!==e[n])return!1}return!0},t.pullAllWith=function(t,e,n){return e.forEach((function(e){t.filter((function(t){return n(t,e)})).forEach((function(e){var n=t.indexOf(e);-1!==t.indexOf(e)&&t.splice(n,1)}))})),t},t.now=function(){return Date.now()},t.pullAll=function(t,e){return e.forEach((function(e){var n=t.indexOf(e);-1!==t.indexOf(e)&&t.splice(n,1)})),t},t.forEachRight=function(t,e){Array.isArray(t)||(t=this.toArray(t));for(var n=t.length-1;n>=0;n--){if(!e(t[n]))break}},t.startsWith=function(t,e,n){return(t=t.substr(n)).startsWith(e)},t.endsWith=function(t,e,n){return(t=t.substr(n)).endsWith(e)},t.remove=function(t,e){var n=[],i=[];return t.forEach((function(t,r){e(t)&&(n.push(t),i.push(r))})),this.basePullAt(t,i),n},t.basePullAt=function(t,e){for(var n,i=t?e.length:0,r=i-1;i--;){var o=e[i];i!==r&&o===n||(n=o,Array.prototype.splice.call(t,o,1))}return t},t.findIndex=function(t,e,n){var i;if(t=t.slice(n),"function"==typeof e){for(i=0;i<t.length;i++)if(e(t[i]))return i}else if(Array.isArray(e))for(i=0;i<t.length;i++){var r=e[0],o=!0;if(e.length>1&&(o=e[1]),t[i][r]===o)return i}else for(i=0;i<t.length;i++)if(t[i]===e)return i;return-1},t.concat=function(){var t=arguments.length;if(!t)return[];for(var e=arguments[0],n=1;n<t;)e=e.concat(arguments[n]),n++;return e},t.isNumber=function(t){return"number"==typeof t},t.indexOf=function(t,e,n){return(t=t.slice(n)).indexOf(e)},t.join=function(t,e){if(null===t)return"";var n="";return t.forEach((function(t){n+=t+e})),n.substr(0,n.length-1)},t.split=function(t,e,n){return t.split(e,n)},t.max=function(t){if(t&&t.length){for(var e,n=0;n<t.length;n++)0===n?e=t[0]:e<t[n]&&(e=t[n]);return e}},t.drop=function(t,e){return(null===t?0:t.length)?t.slice(e):[]},t.flattenDeep=function(t){return t.reduce((function(t,e){return t.concat(e)}))},t.uniq=function(t){var e=[];return t.forEach((function(t){-1===e.indexOf(t)&&e.push(t)})),e},t.isNaN=function(t){return this.isNumber(t)&&t!==+t},t.chunk=function(t,e){if(!(null===t?0:t.length)||e<1)return[];for(var n=[];t.length>e;)n.push(t.slice(0,e)),t=t.slice(e);return n.push(t),n},t.toFinite=function(t){var e=1/0;return t?(t=Number(t))===e||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0},t.baseRange=function(t,e,n,i){for(var r=-1,o=(0,Math.max)((0,Math.ceil)((e-t)/(n||1)),0),a=Array(o);o--;)a[i?o:++r]=t,t+=n;return a},t.isObject=function(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)},t.isLength=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=t.MAX_SAFE_INTEGER},t.isArrayLike=function(t){return null!==t&&this.isLength(t.length)},t.eq=function(t,e){return t===e||t!=t&&e!=e},t.isIndex=function(e,n){var i=typeof e;return!!(n=null===n?t.MAX_SAFE_INTEGER:n)&&("number"===i||"symbol"!==i&&/^(?:0|[1-9]\d*)$/.test(e))&&e>-1&&e%1==0&&e<n},t.isIterateeCall=function(t,e,n){if(!this.isObject(n))return!1;var i=typeof e;return!!("number"===i?this.isArrayLike(n)&&this.isIndex(e,n.length):"string"===i&&e in n)&&this.eq(n[e],t)},t.createRange=function(t){var e=this;return function(n,i,r){return r&&"number"!=typeof r&&e.isIterateeCall(n,i,r)&&(i=r=void 0),n=e.toFinite(n),void 0===i?(i=n,n=0):i=e.toFinite(i),r=void 0===r?n<i?1:-1:e.toFinite(r),e.baseRange(n,i,r,t)}.bind(this)},t.maxBy=function(t,e){if(t&&t.length){for(var n=-1,i=-1,r=0;r<t.length;r++)0===r?(n=e(t[0]),i=t[0]):n<t[r]&&(n=t[r],i=t[r]);return i}},t.minBy=function(t,e){if(t&&t.length){for(var n=-1,i=-1,r=0;r<t.length;r++)0===r?(n=e(t[0]),i=t[0]):n>t[r]&&(n=e(t[r]),i=t[r]);return i}},t.sumBy=function(t,e){var n=0;for(var i in t)n+=e(t[i]);return n},t.countBy=function(t){var e={};for(var n in t){var i=t[n];e.hasOwnProperty(i)?e[i]+=1:e[i]=1}return e},t}()).MAX_SAFE_INTEGER=9007199254740991,pr=dr));t._RF.pop(),t._RF.push({},"907776q4iZNubarZf3Ut3A8","poolManager",void 0);var br,Sr=e.ccclass;e.property,Sr("poolManager")(((yr=function(){function t(){this.dictPool={},this.dictPrefab={}}var e=t.prototype;return e.getNode=function(t,e){var n,i=t.data.name;if(this.dictPrefab[i]=t,this.dictPool.hasOwnProperty(i)){var r=this.dictPool[i];n=r.size()>0?r.get():s(t)}else{var o=new M;this.dictPool[i]=o,n=s(t)}return n.parent=e,n},e.putNode=function(t){var e=t.name,n=null;this.dictPool.hasOwnProperty(e)?n=this.dictPool[e]:(n=new M,this.dictPool[e]=n),n.put(t)},e.clearPool=function(t){this.dictPool.hasOwnProperty(t)&&this.dictPool[t].clear()},k(t,null,[{key:"instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}())._instance=void 0,mr=yr));t._RF.pop(),t._RF.push({},"910a3zLPLVBlbEhWE+FUSD3","Wxsdk",void 0);var _r=e.ccclass;e.property,_r("Wxsdk")(br=function(t){function e(){return t.apply(this,arguments)||this}return U(e,t),e.prototype.start=function(){},e}(m));t._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///main.js'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});